[gd_scene load_steps=27 format=2]

[ext_resource path="res://worlds/small_town.gd" type="Script" id=1]
[ext_resource path="res://assets/simple_skybox/Skybox.tscn" type="PackedScene" id=2]
[ext_resource path="res://objects/sky/cloudy/yellowcloud_ft.jpg" type="Texture" id=3]
[ext_resource path="res://objects/sky/cloudy/yellowcloud_bk.jpg" type="Texture" id=4]
[ext_resource path="res://objects/sky/cloudy/yellowcloud_dn.jpg" type="Texture" id=5]
[ext_resource path="res://objects/sky/cloudy/yellowcloud_up.jpg" type="Texture" id=6]
[ext_resource path="res://objects/sky/cloudy/yellowcloud_lf.jpg" type="Texture" id=7]
[ext_resource path="res://objects/sky/cloudy/yellowcloud_rt.jpg" type="Texture" id=8]
[ext_resource path="res://objects/building/house.tscn" type="PackedScene" id=9]
[ext_resource path="res://objects/decoration/neon_tube.tscn" type="PackedScene" id=10]
[ext_resource path="res://objects/decoration/string light/string lights.tscn" type="PackedScene" id=11]
[ext_resource path="res://assets/NeonChinaSign1.png" type="Texture" id=12]
[ext_resource path="res://objects/building/house-L.tscn" type="PackedScene" id=13]
[ext_resource path="res://assets/road-I.tscn" type="PackedScene" id=14]
[ext_resource path="res://worlds/environment.tres" type="Environment" id=15]
[ext_resource path="res://objects/car/car.tscn" type="PackedScene" id=16]
[ext_resource path="res://objects/terriain/ground.tscn" type="PackedScene" id=17]
[ext_resource path="res://objects/decoration/smoke/smoke.png" type="Texture" id=18]

[sub_resource type="Shader" id=7]

code = "shader_type spatial;
render_mode cull_disabled;
uniform vec4 albedo : hint_color;
uniform sampler2D texture_albedo : hint_albedo;


void fragment() {
	vec2 base_uv = UV;
	vec4 albedo_tex = texture(texture_albedo,base_uv);
	ALBEDO = albedo.rgb;
	ALPHA = albedo_tex.a;
}
"

[sub_resource type="ShaderMaterial" id=8]

shader = SubResource( 7 )
shader_param/albedo = Color( 1, 1, 1, 1 )
shader_param/texture_albedo = ExtResource( 18 )

[sub_resource type="Gradient" id=3]

colors = PoolColorArray( 1, 1, 1, 1, 1, 1, 1, 0 )

[sub_resource type="GradientTexture" id=4]

gradient = SubResource( 3 )

[sub_resource type="Curve" id=5]

_data = [ Vector2( 0, 0 ), 0.0, 0.220615, 0, 0, Vector2( 0.550379, 0.2118 ), 1.43483, 1.43483, 0, 0, Vector2( 0.997222, 1 ), 1.76393, 0.0, 1, 0 ]

[sub_resource type="CurveTexture" id=6]

curve = SubResource( 5 )

[sub_resource type="ParticlesMaterial" id=1]

gravity = Vector3( 0, 3, 0 )
initial_velocity = 0.5
initial_velocity_random = 1.0
damping = 1.0
scale = 3.0
scale_curve = SubResource( 6 )
color_ramp = SubResource( 4 )

[sub_resource type="QuadMesh" id=2]


[node name="world" type="Spatial"]
script = ExtResource( 1 )

[node name="Skybox" parent="." instance=ExtResource( 2 )]
TextureFront = ExtResource( 3 )
TextureBack = ExtResource( 4 )
TextureBottom = ExtResource( 5 )
TextureUp = ExtResource( 6 )
TextureLeft = ExtResource( 7 )
TextureRight = ExtResource( 8 )

[node name="sun" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 7, 0 )
visible = false
light_color = Color( 0.964706, 0.878431, 0.788235, 1 )
light_energy = 2.0
shadow_enabled = true
shadow_color = Color( 0.152941, 0.247059, 0.490196, 1 )
shadow_bias = 0.35
shadow_contact = 16.0

[node name="moon" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 7, 0 )
light_color = Color( 0.592157, 0.568627, 0.870588, 1 )
light_energy = 0.1
light_indirect_energy = 0.1
shadow_enabled = true
shadow_color = Color( 0.490196, 0.372549, 0.152941, 1 )
shadow_bias = 0.35
shadow_contact = 16.0

[node name="house3" parent="." instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -13.2734, -0.133224, -0.732026 )

[node name="house4" parent="." instance=ExtResource( 9 )]
transform = Transform( 0.932672, 0, 0.360726, 0, 1, 0, -0.360726, 0, 0.932672, -19.7447, -0.133224, 3.58443 )

[node name="house5" parent="." instance=ExtResource( 9 )]
transform = Transform( 0.809465, 0, -0.587169, 0, 1, 0, 0.587169, 0, 0.809465, 8.64002, 1.62429, 21.3706 )

[node name="house6" parent="." instance=ExtResource( 9 )]
editor/display_folded = true
transform = Transform( 0.809465, 0, -1.53923, 0, 1, 0, 0.587169, 0, 2.12197, 13.4103, -0.133226, 9.39023 )

[node name="Spatial" parent="house6" instance=ExtResource( 10 )]
transform = Transform( 0.809465, 0, 0.587168, 0, 1, 0, -0.223986, 0, 0.308785, -0.9922, 0.0735527, -0.71065 )

[node name="Spatial2" parent="house6" instance=ExtResource( 10 )]
transform = Transform( 0.809465, 0, 0.587168, 0, 1, 0, -0.223986, 0, 0.308785, -1.04852, 0.0735522, 0.890552 )

[node name="Spatial3" parent="house6" instance=ExtResource( 10 )]
transform = Transform( 0.809578, 0, 0.176814, 0, 3.07, 0, -0.224018, 0, 0.638988, -12.804, 0.281981, -1.15335 )

[node name="lanterns" parent="house6" instance=ExtResource( 11 )]
transform = Transform( 0.16669, 0.151596, 0.974285, 0.194883, 0.96355, -0.183269, -0.368711, 0.0840837, 0.0499992, -7.37356, -1.50755, -1.25909 )

[node name="sign" type="Spatial" parent="house6"]
editor/display_folded = true
transform = Transform( 0.979548, 0, -0.201206, 0, 1, 0, 0.0767535, 0, 0.373667, -1.37219, 0.0735527, -0.72753 )

[node name="Sprite3D" type="Sprite3D" parent="house6/sign"]
transform = Transform( 0.06, 0, 0, 0, 0.06, 0, 0, 0, 1, 0, 1.32886, 0 )
texture = ExtResource( 12 )

[node name="house-L" parent="." instance=ExtResource( 13 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.13274, 0, -5.90779 )

[node name="house-L2" parent="." instance=ExtResource( 13 )]
transform = Transform( -0.443375, 0, 0.896336, 0, 1, 0, -0.896336, 0, -0.443375, -33.2313, 0, -5.90779 )

[node name="Road" parent="." instance=ExtResource( 14 )]

[node name="Road2" parent="Road" instance=ExtResource( 14 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 2.91038e-011, -2.91038e-011, 1, 30.5845, -7.62939e-006, -2.79397e-009 )

[node name="Road3" parent="Road" instance=ExtResource( 14 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 2.91038e-011, -2.91038e-011, 1, -30.2609, -2.76566e-005, 5.21541e-008 )

[node name="Road4" parent="Road" instance=ExtResource( 14 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 2.91038e-011, -2.91038e-011, 1, -60.0305, -5.72205e-006, -4.09782e-008 )

[node name="Road5" parent="Road" instance=ExtResource( 14 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 8.73115e-011, -8.73115e-011, 1, 60.5559, 5.72205e-005, -7.03149e-008 )

[node name="Overview camera" type="Camera" parent="." groups=[
"camera",
]]
transform = Transform( 1, 0, 0, 0, 0.998996, 0.0448036, 0, -0.0448036, 0.998996, 0, 9.08588, 46.8473 )
environment = ExtResource( 15 )

[node name="car" parent="." instance=ExtResource( 16 )]
transform = Transform( -0.329851, 0, 0.944033, 0, 1, 0, -0.944033, 0, -0.329851, 7.3237, 0.507613, 2.54825 )

[node name="ground" parent="." instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0807648, 0 )

[node name="Particles" type="Particles" parent="."]
transform = Transform( 0.305599, 0, -0.95216, 0, 1, 0, 0.95216, 0, 0.305599, 16.9125, 0.553754, 0.730739 )
material_override = SubResource( 8 )
cast_shadow = 0
amount = 32
lifetime = 3.0
process_material = SubResource( 1 )
draw_pass_1 = SubResource( 2 )

